{
  "file_format_version": "1.2.0",
  "layer": {
    "name": "VK_LAYER_PRIVATE_unseen",
    "type": "GLOBAL",
    "library_path": "./libVkLayer_PRIVATE_unseen.so",
    "api_version": "1.0.0",
    "implementation_version": "1",
    "description": "Vulkan frame capture layer for headless environments with surface/swapchain support",
    "functions": {
      "vkGetInstanceProcAddr": "vkGetInstanceProcAddr",
      "vkGetDeviceProcAddr": "vkGetDeviceProcAddr"
    },
    "instance_extensions": [
      {
        "name": "VK_KHR_surface",
        "spec_version": "25"
      }
    ],
    "device_extensions": [
      {
        "name": "VK_KHR_swapchain",
        "spec_version": "70"
      }
    ],
    "enable_environment": {
      "VK_UNSEEN_ENABLE": "1"
    },
    "disable_environment": {
      "VK_UNSEEN_DISABLE": "1"
    },
    "settings": [
      {
        "key": "output_directory",
        "env": "VK_CAPTURE_OUTPUT_DIR",
        "label": "Frame capture output directory",
        "description": "Directory where captured frames will be saved",
        "type": "STRING",
        "default": "./captured_frames"
      },
      {
        "key": "output_format",
        "env": "VK_CAPTURE_FORMAT",
        "label": "Output image format",
        "description": "Format for saved frames (ppm, png, jpg)",
        "type": "ENUM",
        "default": "ppm",
        "options": [
          {
            "key": "ppm",
            "label": "PPM (Portable Pixmap)",
            "description": "Simple RGB format, no compression"
          },
          {
            "key": "png",
            "label": "PNG",
            "description": "Compressed PNG format (requires image crate PNG feature)"
          }
        ]
      },
      {
        "key": "capture_frequency",
        "env": "VK_CAPTURE_FREQUENCY",
        "label": "Capture frequency",
        "description": "Capture every Nth frame (1 = every frame)",
        "type": "INT",
        "default": "1",
        "range": {
          "min": 1,
          "max": 1000
        }
      },
      {
        "key": "max_frames",
        "env": "VK_CAPTURE_MAX_FRAMES",
        "label": "Maximum frames to capture",
        "description": "Stop capturing after N frames (0 = unlimited)",
        "type": "INT",
        "default": "0",
        "range": {
          "min": 0,
          "max": 1000000
        }
      }
    ]
  }
}
